<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>FoodFinder</title>
    <style>
        body {
            background-color: rgb(185, 216, 208);
        }
    </style>
</head>

<body>
    <%- include ('partials/navbar.ejs') %>
        <div class="container mt-3">
            <br>
            <div class="text-center">
                <h2>Update Your Review</h2>
            </div>
            <br>
            <div>
                <% if (product) { %>
                    <form action="/updateReview/<%= product.productId %>" method="POST" enctype="multipart/form-data">
                        <div class="mb-3 mt-3">
                            <label for="name">Product Name:</label>
                            <input type="text" class="form-control" id="name" placeholder="Enter product name"
                                name="name" value=<%=product.productName %> required>
                        </div>
                        <div class="mb-3">
                            <label for="image">Image:</label><br>
                            <input type="text" id="currentImage" value=<%=product.image %> name="image"
                            required><br><br>
                            <img src="/images/<%= product.image %>" width="20%"><br><br>

                            New Image:<br> <input type="file" id="image" name="image" accept="image/*"
                                value=<%=product.image %>
                            ><br><br>
                        </div>
                        <div class="mb-3 mt-3">
                            <label for="brand">Brand:</label>
                            <input type="text" class="form-control" id="brand" placeholder="Enter product brand"
                                name="brand" value=<%=product.brand %> required>
                        </div>
                        <div class="mb-3 mt-3">
                            <label for="price">Price:</label>
                            <input type="number" class="form-control" id="price" step="0.01" placeholder="Enter price"
                                name="price" value=<%=product.price %> required>
                        </div>
                        <div class="mb-3 mt-3">
                            <label for="category">Category:</label>
                            <select id="category" name="category" value=<%=product.category %> required>
                                <option value="Meals">Meals</option>
                                <option value="Snacks">Snacks</option>
                                <option value="Desserts">Desserts</option>
                                <option value="Drinks">Drinks</option>
                            </select><br>
                            <div class="mb-3 mt-3">
                                <label for="location">Location:</label>
                                <input type="text" class="form-control" id="location"
                                    placeholder="Enter product location" name="location" value=<%=product.location %>
                                required>
                            </div>
                            <div class="mb-3 mt-3">
                                <label for="description">Description:</label>
                                <input type="text" class="form-control" id="description"
                                    placeholder="Write a short description" name="description"
                                    value=<%=product.description %> required>
                            </div>
                            <div class="mb-3 mt-3">
                                <label for="rating">Rating:</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="rating"
                                        value="1/5 stars" checked>
                                    <label class="form-check-label" for="rating">
                                        1 - Very Poor
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="rating"
                                        value="2/5 stars">
                                    <label class="form-check-label" for="rating">
                                        2 - Poor
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="rating"
                                        value="3/5 stars">
                                    <label class="form-check-label" for="rating">
                                        3 - Average
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="rating"
                                        value="4/5 stars">
                                    <label class="form-check-label" for="rating">
                                        4 - Good
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="rating"
                                        value="5/5 stars">
                                    <label class="form-check-label" for="rating">
                                        5 - Very Good
                                    </label>
                                </div>
                            </div>
                            <div class="mb-3 mt-3">
                                <label for="review">Enter your review on this product.</label>
                                <br>
                                <textarea id="review" name="review" rows="4" cols="50" value=<%=product.review
                                    %> required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                    <% } else { %>
                        <p>No product found.</p>
                        <% } %>
                            <a href="/">Back</a>
            </div>
</body>

</html>